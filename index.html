<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Trigger HSI IT Analysis Zap</title>
</head>
<body>
  <button id="trigger-btn">Trigger HSI IT Analysis Zap Today</button>

  <script>
    document.getElementById("trigger-btn").addEventListener("click", function() {
      console.log("Button clicked. Triggering fetch request...");
      
      fetch("https://hooks.zapier.com/hooks/catch/14217713/2evwite/", {
        method: "POST",
        mode: "no-cors",  // This bypasses the CORS preflight.
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ date: new Date().toISOString().split("T")[0] })
      })
      .then(() => {
        // Note: In no-cors mode, the response is opaque.
        alert("Zap triggered. (Response is opaque in no-cors mode.)");
      })
      .catch(error => {
        console.error("Error during fetch:", error);
        alert("There was an error: " + error);
      });
    });
  </script>
</body>
</html>
